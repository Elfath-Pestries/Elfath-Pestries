<odoo>
    <data>
        <!-- MANAGE JOB LIST DELIVERY DASHBOARD INHERIT-->
        <template id="manage_job_list_pos" name="Manage Job List for POS"
                  inherit_id="pragmatic_odoo_delivery_boy.manage_job_list">
            <xpath expr="//tbody[@id='manage_sale_order_delivery']/t" position="after">
                <t t-foreach="pos_orders" t-as="order">
                    <tr t-att-id="order.pos_reference">

                        <td>
                            <a t-att-href="'/page/job_list/pos-order-view/' + str(order.pos_reference)">
                                <span t-field="order.pos_reference"/>
                            </a>
                        </td>
                        <td>
                            <span t-field="order.pos_delivery_order_ref.partner_id.name"/>
                        </td>
                        <td>
                            <span class="mt0" t-field="order.pos_delivery_order_ref.partner_id" t-field-options='{
							                        "widget": "contact",
							                        "fields": ["address"],
							                        "no_marker": true
							                    }'/>
                        </td>
                        <td>
                            <span t-field="order.pos_delivery_order_ref.phone"/>
                        </td>
                        <td>
                            <span t-field="order.amount_total"/>
                        </td>
                        <td>
                            <span t-field="order.pos_delivery_order_ref.payment_status"/>
                        </td>
                        <td>
                            <span t-field="order.pos_delivery_order_ref.delivery_state"/>
                        </td>
                    </tr>
                </t>

            </xpath>
        </template>


        <template id="pos-order-view-driver" name="POS Order Driver Job View">
            <div id="spinner"/>
            <t t-call="website.layout">
                <div class="oe_structure">
                    <div class="container">
                        <div class="viewjoblist_mainsection">
                            <h5 class="background">
                                <span>View Joblist</span>
                            </h5>

                            <div class="row">
                                <div class="col-md-8">
                                    <div class="longtitude-latitudeinut">
                                        <input type="text" id="latitude" name="latitude"
                                               t-att-value="latitude" placeholder="Partner Latitude"
                                               readonly="readonly"/>
                                        <input type="text" id="longitude" name="longitude"
                                               t-att-value="longitude" placeholder="Partner Longitude"
                                               readonly="readonly"/>
                                        <input type="text" id="driver_latitude" name="driver_latitude"
                                               t-att-value="driver_latitude" placeholder="Driver Latitude"
                                               readonly="readonly"/>
                                        <input type="text" id="driver_longitude" name="driver_longitude"
                                               t-att-value="driver_longitude" placeholder="Driver Longitude"
                                               readonly="readonly"/>
                                        <input type="hidden" id="driver_id" name="driver_id"
                                               t-att-value="pos_order.pos_delivery_order_ref.delivery_person.id"/>
                                    </div>
                                    <br/>
                                    <br/>
                                    <div class="joblist_tablecoloumn">
                                        <div class="form-group field-name sizealign">
                                            <div class="joblist_left">
                                                <label class="control-label">Order No</label>
                                                <input class="form-control" id="order_number" type="text"
                                                       name="order_number"
                                                       t-att-value="pos_order.pos_reference"
                                                       t-att-data-order_id="pos_order.id"/>
                                            </div>
                                            <div class="joblist_right">
                                                <label class="control-label">Customer Name</label>
                                                <input class="form-control" type="text" name="customer_name"
                                                       t-att-value="pos_order.pos_delivery_order_ref.partner_id.name"/>
                                            </div>
                                        </div>
                                        <div class="form-group field-name sizealign">
                                            <div class="joblist_left">
                                                <label class="control-label">Customer City</label>
                                                <div class="address_col"
                                                     t-field="pos_order.pos_delivery_order_ref.partner_id.city"
                                                     t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true, "phone_icons": true}'/>

                                            </div>

                                            <div class="joblist_right">
                                                <label class="control-label">Customer Phone</label>
                                                <input class="form-control" type="text" name="customer_phone"
                                                       t-att-value="pos_order.pos_delivery_order_ref.phone"/>
                                            </div>
                                        </div>


                                        <div class="form-group field-name sizealign">
                                            <div class="joblist_left">
                                                <label class="control-label">Order Source</label>
                                                <input class="form-control" type="text" name="order_source"
                                                       value="POS"/>
                                            </div>
                                            <div class="joblist_right">
                                                <label class="control-label">Payment Status</label>
                                                <input class="form-control" type="text" name="payment_status"
                                                       t-att-value="delivery_order_payment_status"
                                                />
                                            </div>
                                        </div>
                                        <div class="form-group field-name sizealign">
                                            <div class="joblist_left">

                                                <label class="control-label">Order Details</label>
                                                <div class="address_col">
                                                    <table class="table table-condensed">
                                                        <thead>
                                                            <tr>
                                                                <th width="80%">Product Name</th>
                                                                <th width="20%" class="text-right">Qty</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="sale_tbody">
                                                            <t t-foreach="pos_order.lines" t-as="line">
                                                                <tr>
                                                                    <td>
                                                                        <span t-field="line.product_id.name"/>
                                                                    </td>
                                                                    <td class="text-right">
                                                                        <span t-field="line.qty"/>
                                                                    </td>

                                                                </tr>
                                                            </t>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="joblist_left">
                                            <label class="control-label">Driver mobile number</label>
                                            <input class="form-control" type="text" name="price" id="driver_mobile"
                                                   t-att-value="driver_mobile"
                                            />
                                        </div>
                                        <div class="joblist_right">
                                            <label class="control-label">Price</label>
                                            <input class="form-control" type="text" name="price"
                                                   t-att-value="pos_order.amount_total"
                                            />
                                        </div>

                                        <div class="form-group field-name sizealign">
                                            <div class="row">.


                                            </div>
                                            <div class="choose_driversection">
                                                <div id="select_driver" class="modal fade" tabindex="-1"
                                                     role="dialog" aria-labelledby="label" aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div id="loading-indicator" style="display:none"/>
                                                            <div class="choose_driverpopup">
                                                                <div class="modal-header">
                                                                    <button type="button" class="close"
                                                                            data-dismiss="modal"
                                                                            aria-hidden="true"></button>
                                                                    <img
                                                                            src="/pragmatic_delivery_control_app/static/src/img/driver_pop.png"
                                                                            alt=""/>
                                                                    <h3 class="modal-title" id="label">Please enter
                                                                        message
                                                                    </h3>
                                                                </div>
                                                                <div class="modal-body driver-list">
                                                                    <textarea name="message_driver" id="message_driver"
                                                                              style="height: 104px; width: 604px; padding-left: 2px;"/>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn cancelbtn"
                                                                            data-dismiss="modal">Cancel
                                                                    </button>
                                                                    <button type="button"
                                                                            class="btn cancelbtn confirm_driver">Ok
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">

                                    <t t-if="pos_order.pos_delivery_order_ref.delivery_state == 'draft' or pos_order.pos_delivery_order_ref.delivery_state == 'in_progress'">

                                        <input type="button" style="background-color:black;color:white;width:150px;
    height:40px; font-weight: bold;" class="joblist_buttons joblist_pos_order_pay_now" id="pay_now_button1"
                                               value="DELIVERED NOW"/>


                                    </t>


                                    <script t-att-src="maps_script_url"/>
                                    <div id="customer_map" style="height:300px;width:100%;border:1px solid red;"></div>
                                </div>


                                <div class="col-md-12">
                                    <div class="viewjoblist_button">

                                        <t t-if="pos_order.pos_delivery_order_ref.delivery_state == 'paid'">
                                            <input class="joblist_buttons joblist_delivered_pos_order"
                                                   t-att-data-order_id="pos_order.pos_reference"
                                                   id="delivered_button"
                                                   type="button" value="Delivered Order">
                                            </input>
                                        </t>


                                        <button class="joblist_buttons joblist_cancel_pos_order_driver"
                                                t-att-data-order_id="pos_order.pos_reference">Cancel Order
                                        </button>


                                        <button class="joblist_buttons driver_joblist_back">Back</button>


                                        <p style="text-align:center;">
                                            <a href="#driver_msg_issue" data-toggle="modal"
                                               data-target="#driver_msg_issue"
                                               data-oe-model="ir.ui.view" data-oe-id="1164" data-oe-field="arch"
                                               data-oe-xpath="/t[1]/t[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[2]/div[5]/div[2]/a[1]"
                                               class="assign-driver joblist_buttons" data-order-steps="delivered">
                                                Issue
                                            </a>
                                        </p>

                                        <div class="driver_message">
                                            <div id="driver_msg_issue" class="modal fade" tabindex="-1"
                                                 role="dialog" aria-labelledby="label" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div id="loading-indicator" style="display:none"/>
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal"
                                                                    aria-hidden="true"></button>
                                                            <input type="hidden" name="driver_name" id="driver_name"
                                                                   t-att-value="pos_order.pos_delivery_order_ref.delivery_person.name"
                                                            />
                                                            <img
                                                                    src="/pragmatic_delivery_control_app/static/src/img/driver_pop.png"
                                                                    alt=""/>
                                                            <h3 class="modal-title" id="label">Please enter
                                                                message
                                                            </h3>
                                                        </div>
                                                        <div class="modal-body driver-list">
                                                            <textarea name="message_driver1" id="message_driver1"
                                                                      style="height: 104px; width: 604px; padding-left: 2px;"/>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn cancelbtn"
                                                                    data-dismiss="modal">Cancel
                                                            </button>
                                                            <button type="button"
                                                                    class="btn cancelbtn confirm_driver">Ok
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div>
                                            <button class="joblist_buttons joblist_call_driver"
                                                    style="width: 120px;">Call driver
                                            </button>
                                            <!--       <table>-->
                                            <!--                                             <tr onclick="window.open('tel:900300400');">-->
                                            <!--    <td>Phone: 900 300 400</td>-->
                                            <!--  </tr></table>-->
                                        </div>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </template>

    </data>
</odoo>